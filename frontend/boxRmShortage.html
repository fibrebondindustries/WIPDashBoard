<!doctype html>
<html lang="en">
    <head>
        <title>Stock Management</title>
        <!-- Required meta tags -->
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
        />

        <!-- Bootstrap CSS v5.2.1 -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
        />
        <link rel="shortcut icon" href="./assets/Img/favicon-32x32.png" type="image/x-icon">
        <link rel="stylesheet" href="./assets/css/stock.css">

    </head>

    <body>
        <header>
            <!-- place navbar here -->
            <nav
            class="navbar navbar-expand-sm navbar-light bg-light"
        >
            <div class="container">
                <a class="navbar-brand" href="#"><img
                    src="./assets/Img/Logo-1.png"
                    class="img-fluid rounded-top"
                    alt="Logo"
                    style="height: 49px; max-width: 279px;"
                />
                </a>
                <button
                    class="navbar-toggler d-lg-none"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#collapsibleNavId"
                    aria-controls="collapsibleNavId"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
                >
                    <span class="navbar-toggler-icon"></span>
                </button>
                <!-- <marquee behavior="scroll" direction="Right"><h4>WIP DASHBOARD</h4></marquee> -->
                <div class="collapse navbar-collapse" id="collapsibleNavId">
                    <ul class="navbar-nav me-auto mt-2 mt-lg-0">
                      
                    </ul>
                    
                    <div class="container mt-3">
                        
                        <!-- Search-Box -->
                           
                          
                        <form class="form-inline my-2 my-lg-0">
                          <input
                          id="search-input"
                          class="form-control mr-sm-2 ms-auto"
                          style="width: 25%;"
                          type="search"
                          placeholder="Search Item Name"
                          aria-label="Search"
                          oninput="filterTable()"
                          onkeydown="handleEnter(event)" 
                      >
                      </form>
                      </div>
                </div>
            </div>
        </nav>
        </header>
        <main>
            <div class="container">
              
                <div class="row">
                    <div class="col-12">
                        <!-- <h1 class="mt-3 mb-0">BOX RM SHORTAGE</h1> -->
                        <h1 class="text-center mt-4">BOX RM SHORTAGE</h1>
                        <div class="container-fluid d-flex justify-content-start mt-5">
                            <a
                            name=""
                            id=""
                            class="btn btn-secondary btn-sm"
                            href="stock.html"
                            role="button"
                            style="text-decoration: none; margin-top: -30px;"
                            >&#8592; back</a>
                            
                        </div>
                        
                        <div class="table-responsive">
                            
                            <table
                                class="table border table-striped table-bordered table-hover mt-4">
                                <thead>
                                    <tr>
                                        <th scope="col" class="col-1">Sr No</th>
                                        <th scope="col">ITEM NAME</th>
                                        <th scope="col">RM ITEM DESCRIPTION</th>
                                      
                                        <th scope="col" >REQUIRED</th>
                                        <th scope="col" >AVAILBLE</th>
                                        <th scope="col " class="col-3">SHORTAGE</th>
                                   
                                        <!-- <th scope="col" style="text-align: center !important;">QUANTITY STATUS</th> -->
                                    </tr>
                                </thead>
                                <tbody id="shortage-table-body">
                                    
                                </tbody>
                            </table>
                        </div>
                        
                    </div>
                </div>
            </div>
        </main>
        <footer>
            <!-- place footer here -->
        </footer>
        <button onclick="scrollToTop()" id="backToTopBtn" title="Go to top">â–²</button>

        <script>
            // Show the button when the user scrolls down 20px from the top
        window.onscroll = function() {
            const backToTopBtn = document.getElementById("backToTopBtn");
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                backToTopBtn.style.display = "block";
            } else {
                backToTopBtn.style.display = "none";
            }
        };

        // Scroll to the top of the page when the button is clicked
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: "smooth"
            });
        }

        </script>

        <script>
        // Check session on page load
        function checkAuth() {
            const authData = sessionStorage.getItem('auth');
            if (!authData) {
                // Redirect to login if no session data found
                window.location.href = 'login.html';
                return;
            }

            const { loggedIn, expiryTime } = JSON.parse(authData);
            if (!loggedIn || Date.now() > expiryTime) {
                // If not logged in or session expired, redirect to login
                sessionStorage.removeItem('auth');
                window.location.href = 'login.html';
            }
        }
            // Set an interval to check session status every second
            function startSessionCheck() {
                checkAuth(); // Initial check on load
                setInterval(checkAuth, 1000); // Check every second
            }
        // Call checkAuth on load
        window.onload = startSessionCheck;
    </script>
        <!-- Bootstrap JavaScript Libraries -->
         <script src="boxRmShortage.js"></script>
        <script
            src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
            integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
            crossorigin="anonymous"
        ></script>

        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
            integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
            crossorigin="anonymous"
        ></script>
    </body>
</html>
